--- a/arch/mips/pthread_arch.h	
+++ b/arch/mips/pthread_arch.h	
@@ -1,6 +1,9 @@
 static inline struct pthread *__pthread_self()
 {
-#if __mips_isa_rev < 2
+#if defined(__mlexra)
+	char *tp;
+	__asm__ __volatile__ ("mflxc0 %0, $8" : "=r" (tp) );	
+#elif __mips_isa_rev < 2
 	register char *tp __asm__("$3");
 	__asm__ __volatile__ (".word 0x7c03e83b" : "=r" (tp) );
 #else