#!/bin/sh

. /lib/functions/uci-defaults.sh

set_usb_led() {
        ucidef_set_led_usbdev "usb" "USB" "${1}" "${2:-1-1}"
}

set_wifi_led() {
        ucidef_set_led_netdev "wifi_led" "wifi" "${1}" "${2:-wlan0}"
}

board_config_update

board=$(cat /tmp/sysinfo/board_name)

case $board in
  dir-815-d1)
        ucidef_set_led_switch "lan1" "lan1" "rtl819x:green:lan1" "switch0" "0x8"
        ucidef_set_led_switch "lan2" "lan2" "rtl819x:green:lan2" "switch0" "0x4"
        ucidef_set_led_switch "lan3" "lan3" "rtl819x:green:lan3" "switch0" "0x2"
        ucidef_set_led_switch "lan4" "lan4" "rtl819x:green:lan4" "switch0" "0x1"
        ucidef_set_led_switch "wan" "wan" "rtl819x:green:wan" "switch0" "0x10"
        ;;  
esac

board_config_flush

exit 0
